{% extends "edaboard-base.html" %}

{% block css %}
    <style>
    body {
    overflow-x:hidden;

}
        svg text {
            pointer-events: none;
        }

        svg .municipality-label {
            fill: black;
            font-size: 10px;
            font-weight: 900;
            text-anchor: middle;
        }

        svg #map text {
            color: #333;
            font-size: 10px;
            text-anchor: middle;
        }

        .dashboard-content {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            background: white;
        }

        .categories {
            fill: none;
            stroke: #fff;
            stroke-linejoin: round;
        }

        .categories-choropleth {
            fill: #ccc;
        }

        #tooltip-container {
            position: fixed;
            background-color: #fff;
            color: #000;
            padding: 10px;
            border: 1px solid;
            display: none;
        }

        #canvas svg {
            border: 0px;
        }

        .tooltip_key {
            font-weight: bold;
        }

        .tooltip_value {
            margin-left: 20px;
            float: right;
        }

        .x-axis {
            fill: #000;
        }

        .chart {
            background: #fff;
            margin: 5px;
        }

        .chart .category-bar {
            stroke: white;
            fill: steelblue;
        }

        .chart .score {
            fill: white;
        }

        .chart text.name {
            fill: #000;
        }

        .chart line {
            stroke: #c1c1c1;
        }

        .chart .rule {
            fill: #000;
        }

        .main-category-text {
            fill: #FF4A4A;
        }

        .main-category-bar {
            stroke: #FF4A4A;
            stroke-width: 2px;
        }

    </style>
{% endblock css %}


{% block content %}
    <div class="dashboard-content">

        <!-- Titlebar -->
        <div id="titlebar">
            <div class="row">
                <a href ="#view1"><h2>편의시설</h2></a>


        </div>

        <div class="col-2">
            <div class="sidebar-textbox">
                    시설 평균 개수: 2133</br>
                    평균이상의 시설명:<br/>
                    <p>주출입구 접근로, 주출입구 높이차이 제거, 장애인 전용 주차구역, 장애인용 승강기, 장애인용 화장실, 자동 출입구(문)</p>
                </div>
            </div>

              <div class="dashboard-list-box margin-top-0">
                    <h4><span class="im im-icon-Bar-Chart5"></span> bargraph </h4>
                    <canvas id="chart" ></canvas>
                </div>


              <div  class="dashboard-list-box margin-top-0">
                    <h4><span class="im im-icon-Pie-Chart2"></span> polarArea </h4>
                    <canvas id="chart2" ></canvas>

                </div>


        </div>

        <!-- Titlebar -->
        <div id="titlebar">
            <div class="row">
                <a href ="#view1"><h2>geomap</h2></a>

            </div>
        </div>
        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>주출입구 접근로</h4>
                <img src = "static/images/facility_map/in.png"/>
            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>주출입구 높이차이 제거</h4>
                <img src = "static/images/facility_map/no_heigh.png"/>
            </div>
        </div>


        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>장애인 전용 주차구역</h4>
                <img src = "static/images/facility_map/parking.png"/>
            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>장애인용 승강기</h4>
                <img src = "static/images/facility_map/ev.png"/>

            </div>
        </div>

            <!-- Listings -->
        <div class="col-lg-6 col-md-12">

            <div class="dashboard-list-box margin-top-0">
                <h4>장애인용 화장실</h4>
                <img src = "static/images/facility_map/toilet.png"/>
            </div>


        </div>

            <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>자동 출입구(문)</h4>
                <img src = "static/images/facility_map/auto_door.png"/>
            </div>
        </div>

                <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>경보및 피난설비</h4>
                <img src = "static/images/facility_map/waring.png"/>
            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>객실및 침실</h4>
                <img src = "static/images/facility_map/bed.png"/>
            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>점자블록</h4>
                <img src = "static/images/facility_map/dotblock.png"/>
            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>장애인용 관람석</h4>
                <img src = "static/images/facility_map/view.png"/>

            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>세면대</h4>
                <img src = "static/images/facility_map/wash.png"/>
            </div>
        </div>
                <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>점수대및 작업대</h4>
                <img src = "static/images/facility_map/dask.png"/>
            </div>
        </div>
        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>자동 판매기</h4>
                <img src = "static/images/facility_map/auto_dask.png"/>
            </div>
        </div>
        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>음료대</h4>
                <img src = "static/images/facility_map/eatingwater.png"/>
            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>욕실</h4>
                <img src = "static/images/facility_map/bath.png"/>
            </div>
        </div>

        <!-- Listings -->
        <div class="col-lg-6 col-md-12">
            <div class="dashboard-list-box margin-top-0">
                <h4>샤워실및 탈의실</h4>
                <img src = "static/images/facility_map/rocker.png"/>
            </div>
        </div>

    </div>



    </div>

</div>

{% endblock %}



<!-- Scripts
================================================== -->
{% include 'basescript.html' %}
{% block script %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <!-- chart -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
    <script>



        $(document).ready(function() {
            $.ajax({
                url : '/get_facility',
                method: "GET",
                success : function (data) {
                    console.log(data)
                    var ctx = document.getElementById("chart");
                    var myChart = new Chart(ctx, {
                        type: 'bar',

                        data: {
                            labels: data.x,

                            datasets: [
                                {
                                    data : data.y,
                                    label: "count",
                                                  backgroundColor: [
                                "rgba(241, 174, 005, 0.6)",
                                "rgba(093, 201, 188, 0.6)",
                                "rgba(038, 148, 137, 0.6)",
                                "rgba(198, 058, 068, 0.6)",
                                "rgba(246, 113, 072, 0.6)",
                                "rgba(232, 156, 178, 0.6)",
                                "rgba(232, 156, 178, 0.6)",
                                "rgba(143, 137, 137, 0.6)",
                                "rgba(104, 092, 078, 0.6)",
                                "rgba(147, 156, 213, 0.6)",
                                "rgba(147, 196, 211, 0.6)",
                                "rgba(233, 129, 056, 0.6)",
                                "rgba(035, 098, 107, 0.6)",
                                "rgba(083, 173, 213, 0.6)",
                                "rgba(245, 235, 220, 0.6)"



                        ],
                        borderColor: [
                             "rgba(241, 174, 005, 1)",
                                "rgba(093, 201, 188, 1)",
                                "rgba(038, 148, 137, 1)",
                                "rgba(198, 058, 068, 1)",
                                "rgba(246, 113, 072, 1)",
                                "rgba(232, 156, 178, 1)",
                                "rgba(232, 156, 178, 1)",
                                "rgba(143, 137, 137, 1)",
                                "rgba(104, 092, 078, 1)",
                                "rgba(147, 156, 213, 1)",
                                "rgba(147, 196, 211, 1)",
                                "rgba(233, 129, 056, 1)",
                                "rgba(035, 098, 107, 1)",
                                "rgba(083, 173, 213, 1)",
                                "rgba(245, 235, 220, 1)"

                        ],
                                    borderWidth: 1
                                }]
                        },


                        options: {
                            scales: {
                                xAxes: [{
                                    stacked: true,
                                    diplay: true
                                }],
                                yAxes: [{
                                    stacked: true
                                }],
                                legend: {display: true},
                                title: {
                                    display: true,
                                    text: '편의시설 수'
                                }
                            }
                        }
                    });

                }
            });

        })

        $(document).ready(function() {
            $.get('/get_facility', function (data) {
                var ctx = document.getElementById("chart2");
                var myRadarChart = new Chart(ctx, {
                    type: 'polarArea',
                    data :{
                        datasets: [{
                            data: data.y1,
                            backgroundColor: [
                                "rgba(241, 174, 005, 0.6)",
                                "rgba(093, 201, 188, 0.6)",
                                "rgba(038, 148, 137, 0.6)",
                                "rgba(198, 058, 068, 0.6)",
                                "rgba(246, 113, 072, 0.6)",
                                "rgba(232, 156, 178, 0.6)",
                                "rgba(232, 156, 178, 0.6)",
                                "rgba(143, 137, 137, 0.6)",
                                "rgba(104, 092, 078, 0.6)",
                                "rgba(147, 156, 213, 0.6)",
                                "rgba(147, 196, 211, 0.6)",
                                "rgba(233, 129, 056, 0.6)",
                                "rgba(035, 098, 107, 0.6)",
                                "rgba(083, 173, 213, 0.6)",
                                "rgba(245, 235, 220, 0.6)"



                        ],
                        borderColor: [
                             "rgba(241, 174, 005, 1)",
                                "rgba(093, 201, 188, 1)",
                                "rgba(038, 148, 137, 1)",
                                "rgba(198, 058, 068, 1)",
                                "rgba(246, 113, 072, 1)",
                                "rgba(232, 156, 178, 1)",
                                "rgba(232, 156, 178, 1)",
                                "rgba(143, 137, 137, 1)",
                                "rgba(104, 092, 078, 1)",
                                "rgba(147, 156, 213, 1)",
                                "rgba(147, 196, 211, 1)",
                                "rgba(233, 129, 056, 1)",
                                "rgba(035, 098, 107, 1)",
                                "rgba(083, 173, 213, 1)",
                                "rgba(245, 235, 220, 1)"

                        ],
                        }],

                        // These labels appear in the legend and in the tooltips when hovering different arcs
                        labels: data.x1,

                    },
                });
            });
        });
</script>

{% endblock %}






</body>
</html>